(()=>{"use strict";var e,a,t,n,s,r={327:(e,a,t)=>{t.a(e,(async e=>{t.d(a,{Z:()=>p});var n=t(349),s=t(113),r=t(230),o=t.n(r),c=t(762),i=t(607),m=e([i]);function p(){const e=new n.WebhookClient({url:process.env.IMAGE_HIDER_URL});i.L.on("messageCreate",(a=>{a.channel.id===process.env.IMAGE_HIDER_CHANNEL&&a.attachments.size>0&&a.attachments.forEach((async t=>{if(t.spoiler)return;const n=(0,s.randomUUID)();await o()(t.url,"assets",{filename:`${n}.png`}),await a.delete();const{username:r,avatarURL:i}=c.Z[Math.floor(Math.random()*c.Z.length)];await e.send({username:r,avatarURL:i,files:[{attachment:`assets/${n}.png`,name:"SPOILER_FILE.png"}]})}))}))}i=(m.then?await m:m)[0]}))},141:(e,a,t)=>{t.a(e,(async e=>{t.d(a,{Z:()=>d});var n=t(607),s=t(349),r=t(113),o=t(230),c=t.n(o),i=t(744),m=e([n]);n=(m.then?await m:m)[0];const p=["one","two","three","four","five","six","seven","eight","nine","keycap_ten"].map(i.Z);function d(){n.L.on("messageCreate",(e=>{e.channel.id===process.env.RATING_CHANNEL&&e.attachments.size>0&&e.attachments.forEach((async a=>{const t=(0,r.randomUUID)();await c()(a.url,"assets",{filename:`${t}.png`}),await e.delete();const n=(new s.MessageEmbed).setImage(`attachment://${t}.png`).setDescription("Rate this person! You can also rate him/her as 4-5 by selecting both 4 and 5. Please be patient because it may take up to 1 sec for the score to be reflected."),o=await e.channel.send({embeds:[n],files:[`assets/${t}.png`]});p.forEach((e=>o.react(e)))}))})).on("messageReactionAdd",(async(e,a)=>{a.bot||p.includes(e.emoji.name)&&await h(e.message)})).on("messageReactionRemove",(async(e,a)=>{a.bot||p.includes(e.emoji.name)&&await h(e.message)}))}async function h(e){await e.fetch();let a=0;const t=new s.Collection,n=await[...e.reactions.cache.values()].map((async e=>{if(p.includes(e.emoji.name)){await e.users.fetch();const n=p.indexOf(e.emoji.name)+1;[...e.users.cache.values()].forEach((e=>{if(e.id!==process.env.CLIENT_ID)try{t.get(e.username).push(n)}catch(a){t.set(e.username,[n])}}));const s=e.count-1;return a+=s,s*n}return 0})).reduce((async(e,a)=>await e+await a)),r=(new s.MessageEmbed).setDescription("Rate this person! You can also rate him/her as, for example, 4-5 by selecting both 4 and 5. Please be patient as it may take up to 1 sec for the score to be reflected.").addField([...t.entries()].map((([e,a])=>`${e}: ${a.reduce(((e,a)=>e+a))/a.length}\n`)).join(""),"Average: "+n/a,!0);await e.edit({embeds:[r]})}}))},607:(e,a,t)=>{t.a(e,(async e=>{t.d(a,{L:()=>p});var n=t(142),s=t.n(n),r=t(349),o=t(327),c=t(141),i=e([c,o]);[c,o]=i.then?await i:i,s().config();const m=[o.Z,c.Z],p=new r.Client({restTimeOffset:0,intents:[r.Intents.FLAGS.GUILDS,r.Intents.FLAGS.GUILD_MESSAGES,r.Intents.FLAGS.GUILD_MESSAGE_REACTIONS],partials:["MESSAGE","CHANNEL","REACTION"]}).on("ready",(()=>console.log("ready!")));await p.login(process.env.SECRET),m.forEach((e=>e())),e()}),1)},762:(e,a,t)=>{t.d(a,{Z:()=>n});const n=[{username:"Bernice Wong",avatarURL:"https://scontent-lga3-2.cdninstagram.com/v/t51.2885-19/s150x150/217335886_986731358794373_6632112279176355908_n.jpg?_nc_ht=scontent-lga3-2.cdninstagram.com&_nc_cat=105&_nc_ohc=wHBsO3Q3a8YAX9Czi_5&edm=ABfd0MgBAAAA&ccb=7-4&oh=c5b6b29b1ce3c8ce409295e350e06d38&oe=61A3D1C3&_nc_sid=7bff83"},{username:"Andy Lau",avatarURL:"https://cdn.discordapp.com/attachments/718050872663212086/912888704975118356/unknown.png"},{username:"Hamza Ali",avatarURL:"https://media-exp1.licdn.com/dms/image/C4E03AQFHIb3vc_astA/profile-displayphoto-shrink_800_800/0/1612321860355?e=1643241600&v=beta&t=se56EbDRGCCCEr_886gqr5mcyLSP0r_DooLHMCOpkkY"}]},744:(e,a,t)=>{t.d(a,{Z:()=>r});const n=require("node-emoji");var s=t.n(n);function r(e){return s().get(e)}},349:e=>{e.exports=require("discord.js")},142:e=>{e.exports=require("dotenv")},230:e=>{e.exports=require("download")},113:e=>{e.exports=require("crypto")}},o={};function c(e){var a=o[e];if(void 0!==a)return a.exports;var t=o[e]={exports:{}};return r[e](t,t.exports,c),t.exports}e="function"==typeof Symbol?Symbol("webpack then"):"__webpack_then__",a="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",t=e=>{e&&(e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},n=e=>!--e.r&&e(),s=(e,a)=>e?e.push(a):n(a),c.a=(r,o,c)=>{var i,m,p,d=c&&[],h=r.exports,u=!0,l=!1,f=(a,t,n)=>{l||(l=!0,t.r+=a.length,a.map(((a,s)=>a[e](t,n))),l=!1)},_=new Promise(((e,a)=>{p=a,m=()=>(e(h),t(d),d=0)}));_[a]=h,_[e]=(e,a)=>{if(u)return n(e);i&&f(i,e,a),s(d,e),_.catch(a)},r.exports=_,o((r=>{if(!r)return m();var o,c;i=(r=>r.map((r=>{if(null!==r&&"object"==typeof r){if(r[e])return r;if(r.then){var o=[];r.then((e=>{c[a]=e,t(o),o=0}));var c={};return c[e]=(e,a)=>(s(o,e),r.catch(a)),c}}var i={};return i[e]=e=>n(e),i[a]=r,i})))(r);var p=new Promise(((e,t)=>{(o=()=>e(c=i.map((e=>e[a])))).r=0,f(i,o,t)}));return o.r?p:c})).then(m,p),u=!1},c.n=e=>{var a=e&&e.__esModule?()=>e.default:()=>e;return c.d(a,{a}),a},c.d=(e,a)=>{for(var t in a)c.o(a,t)&&!c.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:a[t]})},c.o=(e,a)=>Object.prototype.hasOwnProperty.call(e,a),c(607)})();